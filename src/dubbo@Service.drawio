<mxfile host="app.diagrams.net" modified="2022-01-13T16:06:03.981Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.163 Safari/537.36" etag="--vbe89720LKIE2nz3vH" version="16.1.2" type="github">
  <diagram id="-ZOAbeim4-3QaTn0iV8p" name="第 1 页">
    <mxGraphModel dx="3327" dy="2156" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-23" target="MlA-OAKGZCwKXPXbJSl6-26">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="500" y="230" as="sourcePoint" />
            <mxPoint x="620" y="225" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-28" target="MlA-OAKGZCwKXPXbJSl6-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="777" y="225" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-28" target="MlA-OAKGZCwKXPXbJSl6-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="777" y="225" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-28" target="MlA-OAKGZCwKXPXbJSl6-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="777" y="225" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-28" target="MlA-OAKGZCwKXPXbJSl6-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="777" y="225" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-7" value="Spring会将配置文件中的内容解析到&lt;b&gt;&lt;font color=&quot;#ff0080&quot;&gt;Environment&lt;/font&gt;&lt;/b&gt;属性中&lt;br&gt;@PropertySource(&quot;classpath:/spring/dubbo-provider.properties&quot;)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="-60" width="390" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-8" value="&lt;div&gt;&lt;/div&gt;@EnableDubboConfig直接中默认中有一个multiple，默认值为true&lt;div&gt;AnnotationAttributes attributes = AnnotationAttributes.fromMap(&lt;span&gt;importingClassMetadata.getAnnotationAttributes(EnableDubboConfig.class.getName()));&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="100" width="650" height="60" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-10" value="默认为true&lt;br&gt;boolean multiple = attributes.getBoolean(&quot;multiple&quot;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="190" width="330" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-12" target="MlA-OAKGZCwKXPXbJSl6-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#FF0080;dashed=1;curved=1;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-12" target="MlA-OAKGZCwKXPXbJSl6-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-12" value="registerBeans(registry, &lt;font color=&quot;#ff0080&quot;&gt;&lt;b&gt;DubboConfigConfiguration.Single.class&lt;/b&gt;&lt;/font&gt;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="290" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-14" value="生成beanDefinition并注册到beanDefinitionMap中" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1280" y="290" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-16" target="MlA-OAKGZCwKXPXbJSl6-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-16" value="&lt;span&gt;if(multiple)&amp;nbsp;&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="390" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-18" target="MlA-OAKGZCwKXPXbJSl6-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-18" value="registerBeans(registry, DubboConfigConfiguration.Multiple.class);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1280" y="390" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-22" target="MlA-OAKGZCwKXPXbJSl6-28">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="770" y="130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-38" value="第一步" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="MlA-OAKGZCwKXPXbJSl6-25">
          <mxGeometry x="-0.1647" y="3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-22" target="MlA-OAKGZCwKXPXbJSl6-36">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="110" y="228" />
              <mxPoint x="110" y="651" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-40" value="第二步" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="MlA-OAKGZCwKXPXbJSl6-39">
          <mxGeometry x="0.8341" y="2" relative="1" as="geometry">
            <mxPoint x="-88" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-22" target="MlA-OAKGZCwKXPXbJSl6-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-22" value="Spring会解析@Configuration注解" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="-190" y="202.5" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-23" value="@EnableDubbo(scanBasePackages = &quot;org.apache.dubbo.demo.provider&quot;)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="508.5" y="40" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-22" target="MlA-OAKGZCwKXPXbJSl6-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-26" target="MlA-OAKGZCwKXPXbJSl6-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-26" value="解析dubbo配置文件&lt;br&gt;@EnableDubboConfig" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="535" y="130" width="157" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-28" value="@Import(DubboConfigConfigurationRegistrar.class)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="210" width="307" height="35" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-31" target="MlA-OAKGZCwKXPXbJSl6-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-31" value="&lt;div&gt;@EnableDubboConfigBindings({&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.application&quot;, type = ApplicationConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(&lt;font color=&quot;#ff0080&quot;&gt;prefix &lt;/font&gt;= &quot;dubbo.module&quot;, &lt;font color=&quot;#ff0080&quot;&gt;type&lt;/font&gt; = ModuleConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.registry&quot;, type = RegistryConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.protocol&quot;, type = ProtocolConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.monitor&quot;, type = MonitorConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.provider&quot;, type = ProviderConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.consumer&quot;, type = ConsumerConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.config-center&quot;, type = ConfigCenterBean.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.metadata-report&quot;, type = MetadataReportConfig.class),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; @EnableDubboConfigBinding(prefix = &quot;dubbo.metrics&quot;, type = MetricsConfig.class)&lt;span&gt;})&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; public static class &lt;font color=&quot;#ff0080&quot;&gt;&lt;b&gt;Single &lt;/b&gt;&lt;/font&gt;{&lt;span&gt;}&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="315" width="550" height="190" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-34" target="MlA-OAKGZCwKXPXbJSl6-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-34" value="@EnableDubboConfigBindings" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="420" y="550" width="210" height="32.5" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-36" target="MlA-OAKGZCwKXPXbJSl6-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-36" target="MlA-OAKGZCwKXPXbJSl6-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-36" target="MlA-OAKGZCwKXPXbJSl6-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-36" target="MlA-OAKGZCwKXPXbJSl6-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-36" target="MlA-OAKGZCwKXPXbJSl6-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-36" value="@Import(DubboConfigBindingsRegistrar.class)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="390" y="630" width="270" height="41.25" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-41" value="&lt;div&gt;获取所有属性&lt;/div&gt;&lt;div&gt;AnnotationAttributes attributes = AnnotationAttributes.fromMap(&lt;span&gt;importingClassMetadata.getAnnotationAttributes(EnableDubboConfigBindings.class.getName()));&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="895" y="520" width="695" height="62.5" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-43" value="获取属性值&lt;br&gt;AnnotationAttributes[] annotationAttributes = attributes.getAnnotationArray(&quot;value&quot;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="895" y="608.75" width="495" height="51.25" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-45" value="DubboConfigBindingRegistrar registrar = new DubboConfigBindingRegistrar();" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="895" y="690" width="425" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;curved=1;dashed=1;strokeColor=#FF6666;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-46" target="MlA-OAKGZCwKXPXbJSl6-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-46" value="将环境解析好的环境变量传进去，用于一会从中获取配置数据然会封装成beanDefinition&lt;br&gt;registrar.setEnvironment(&lt;font color=&quot;#ff0080&quot;&gt;&lt;b&gt;environment&lt;/b&gt;&lt;/font&gt;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="895" y="770" width="505" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-49" target="MlA-OAKGZCwKXPXbJSl6-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-49" target="MlA-OAKGZCwKXPXbJSl6-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-49" target="MlA-OAKGZCwKXPXbJSl6-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-49" target="MlA-OAKGZCwKXPXbJSl6-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-49" value="&lt;div&gt;for (AnnotationAttributes element : annotationAttributes) {&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 逐个解析@EnableDubboConfigBinding注解，比如@EnableDubboConfigBinding(prefix = &quot;dubbo.application&quot;, type = ApplicationConfig.class)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; registrar.&lt;font color=&quot;#ff0080&quot;&gt;registerBeanDefinitions&lt;/font&gt;(element, registry);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="895" y="850" width="575" height="90" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;curved=1;dashed=1;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-50" target="MlA-OAKGZCwKXPXbJSl6-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1830" y="470" />
              <mxPoint x="850" y="470" />
              <mxPoint x="850" y="410" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-50" value="获取前缀&lt;br&gt;String prefix = environment.resolvePlaceholders(attributes.getString(&quot;&lt;font color=&quot;#ff0080&quot;&gt;prefix&lt;/font&gt;&quot;));" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1590" y="680" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-53" value="获取类型&lt;br&gt;Class&amp;lt;? extends AbstractConfig&amp;gt; configClass = attributes.getClass(&quot;type&quot;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1590" y="760" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-54" value="默认为false&lt;br&gt;boolean multiple = attributes.getBoolean(&quot;multiple&quot;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1590" y="830" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-55" target="MlA-OAKGZCwKXPXbJSl6-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-55" target="MlA-OAKGZCwKXPXbJSl6-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-82" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-55" target="MlA-OAKGZCwKXPXbJSl6-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-55" value="registerDubboConfigBeans(prefix, configClass, multiple, registry);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1590" y="900" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-59" value="Map&amp;lt;String, Object&amp;gt; properties = getSubProperties(environment.getPropertySources(), prefix);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2170" y="680" width="540" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-62" value="&quot;logger&quot; -&amp;gt; &quot;log4j&quot;&lt;br&gt;&quot;name&quot; -&amp;gt; &quot;dubbo-demo-provider1-application&quot;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="2660" y="577.5" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-63" target="MlA-OAKGZCwKXPXbJSl6-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-63" value="&lt;font color=&quot;#ff0080&quot;&gt;dubbo.application&lt;/font&gt;.name=dubbo-demo-provider1-application&lt;br&gt;&lt;font color=&quot;#ff0080&quot;&gt;dubbo.application&lt;/font&gt;.logger=log4j" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="1960" y="577.5" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-64" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-63" target="MlA-OAKGZCwKXPXbJSl6-59">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2270" y="680" as="sourcePoint" />
            <mxPoint x="2340" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-65" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;fontColor=#000000;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-59" target="MlA-OAKGZCwKXPXbJSl6-62">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2490" y="690" as="sourcePoint" />
            <mxPoint x="2540" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-66" target="MlA-OAKGZCwKXPXbJSl6-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-66" value="prefix = &lt;font color=&quot;#ff0080&quot;&gt;dubbo.application&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="2400" y="582.5" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-73" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-70" target="MlA-OAKGZCwKXPXbJSl6-72">
          <mxGeometry x="0.4286" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-75" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-70" target="MlA-OAKGZCwKXPXbJSl6-74">
          <mxGeometry x="0.6667" relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2480" y="805" />
              <mxPoint x="2480" y="905" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-70" value="&lt;font color=&quot;#000000&quot;&gt;multiple&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="2170" y="780" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-72" target="MlA-OAKGZCwKXPXbJSl6-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-72" value="返回多个beanName，也就是一个前缀对应了多套配置&lt;br&gt;Set&amp;lt;String&amp;gt; beanNames =&amp;nbsp;resolveMultipleBeanNames(properties)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2550" y="780" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-74" value="只会生成一个beanName&lt;br&gt;Set&amp;lt;String&amp;gt; beanNames =&amp;nbsp;Collections.singleton(resolveSingleBeanName(properties, configClass, registry))" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2550" y="880" width="480" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-78" value="&lt;div&gt;for (String propertyName : properties.keySet()) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // propertyName为&lt;font color=&quot;#ff0080&quot;&gt;p1.name&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; int index = propertyName.indexOf(&quot;.&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if (index &amp;gt; 0) {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; // 截取beanName名字为&lt;font color=&quot;#ff0080&quot;&gt;p1&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; String beanName = propertyName.substring(0, index);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; beanNames.add(beanName);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3190" y="725" width="380" height="160" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-80" value="dubbo.protocols.&lt;font color=&quot;#ff0080&quot;&gt;p1.name&lt;/font&gt;=dubbo&lt;br&gt;dubbo.protocols.p1.port=20880&lt;br&gt;dubbo.protocols.p1.host=0.0.0.0&lt;br&gt;&lt;br&gt;dubbo.protocols.&lt;font color=&quot;#ff0080&quot;&gt;p2.name&lt;/font&gt;=dubbo&lt;br&gt;dubbo.protocols.p2.port=20881&lt;br&gt;dubbo.protocols.p2.host=0.0.0.0" style="text;whiteSpace=wrap;html=1;fontColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="3280" y="569.38" width="200" height="130" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-81" target="MlA-OAKGZCwKXPXbJSl6-83">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-81" target="MlA-OAKGZCwKXPXbJSl6-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-81" value="&amp;nbsp;for (String beanName : beanNames)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2171" y="1040" width="219" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-83" target="MlA-OAKGZCwKXPXbJSl6-88">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-83" value="为每个beanName,注册一个空的BeanDefinitionregisterDubboConfigBean(beanName, configClass, registry);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2510" y="990" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-84" target="MlA-OAKGZCwKXPXbJSl6-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-84" target="MlA-OAKGZCwKXPXbJSl6-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-84" target="MlA-OAKGZCwKXPXbJSl6-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-84" target="MlA-OAKGZCwKXPXbJSl6-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-84" target="MlA-OAKGZCwKXPXbJSl6-103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-84" value="为每个bean注册一个DubboConfigBindingBeanPostProcessor的Bean后置处理器&lt;br&gt;registerDubboConfigBean(beanName, configClass, registry);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2510" y="1080" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-88" value="registry.registerBeanDefinition(beanName, beanDefinition)" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2950" y="995" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-90" value="BeanDefinitionBuilder builder = rootBeanDefinition(processorClass);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1169" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-97" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-92" target="MlA-OAKGZCwKXPXbJSl6-94">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-98" value="false" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-92" target="MlA-OAKGZCwKXPXbJSl6-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-92" value="&lt;font color=&quot;#000000&quot;&gt;multiple&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1278" width="160" height="41" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-94" value="真实的前缀，比如dubbo.registries. +&amp;nbsp;&lt;span style=&quot;color: rgb(255 , 0 , 128) ; text-align: left&quot;&gt;p1&lt;/span&gt;&lt;br&gt;String actualPrefix =&amp;nbsp;normalizePrefix(prefix) + beanName" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3260" y="1229" width="340" height="49" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-95" value="String actualPrefix =&amp;nbsp;prefix" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3260" y="1319" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-124" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;dashed=1;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-99" target="MlA-OAKGZCwKXPXbJSl6-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-99" value="添加两个构造方法参数值，所以会调用DubboConfigBindingBeanPostProcessor的两个参数的构造方法&lt;br&gt;builder.addConstructorArgValue(&lt;font color=&quot;#ff0080&quot;&gt;actualPrefix&lt;/font&gt;).addConstructorArgValue(&lt;font color=&quot;#ff0080&quot;&gt;beanName&lt;/font&gt;);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1389" width="610" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-101" value="将后置处理器添加到beanDefinitionMap中&lt;br&gt;registerWithGeneratedName(beanDefinition, registry);" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1479" width="320" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.469;entryY=0.026;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#FF0080;strokeColor=#000000;dashed=1;curved=1;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-103" target="MlA-OAKGZCwKXPXbJSl6-119">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3135" y="1145" />
              <mxPoint x="1800" y="1145" />
              <mxPoint x="1800" y="990" />
              <mxPoint x="439" y="990" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-103" value="Class&amp;lt;?&amp;gt; processorClass = &lt;font color=&quot;#ff0080&quot;&gt;&lt;b&gt;DubboConfigBindingBeanPostProcessor.class&lt;/b&gt;&lt;/font&gt;;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2970" y="1085" width="330" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-105" target="MlA-OAKGZCwKXPXbJSl6-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-105" target="MlA-OAKGZCwKXPXbJSl6-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-105" target="MlA-OAKGZCwKXPXbJSl6-125">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-105" value="&lt;font color=&quot;#000000&quot;&gt;refresh()&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-860" y="207.5" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-106" target="MlA-OAKGZCwKXPXbJSl6-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-106" value="&lt;font color=&quot;#000000&quot;&gt;AnnotationConfigApplicationContext&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-1370" y="207.5" width="380" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-108" target="MlA-OAKGZCwKXPXbJSl6-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-108" value="&lt;font color=&quot;#000000&quot;&gt;this.invokeBeanFactoryPostProcessors(beanFactory);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-600" y="207.5" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-110" target="MlA-OAKGZCwKXPXbJSl6-117">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-110" value="&lt;font color=&quot;#000000&quot;&gt;this.registerBeanPostProcessors(beanFactory);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-600" y="1070" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-117" target="MlA-OAKGZCwKXPXbJSl6-119">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-117" value="&lt;font color=&quot;#000000&quot;&gt;beanFactory.getBean(ppName, BeanPostProcessor.class);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-180" y="1070" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-119" target="MlA-OAKGZCwKXPXbJSl6-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-119" value="&lt;font color=&quot;#000000&quot;&gt;这时就会实例化&lt;/font&gt;&lt;b&gt;DubboConfigBindingBeanPostProcessor&lt;/b&gt;&lt;span style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;并调用它的带有两个参数的构造方法&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="270" y="1070" width="360" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-121" value="&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;public DubboConfigBindingBeanPostProcessor(String prefix, String beanName) {&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Assert.notNull(prefix, &quot;The prefix of Configuration Properties must not be null&quot;);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Assert.notNull(beanName, &quot;The name of bean must not be null&quot;);&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this.&lt;/font&gt;&lt;b&gt;prefix &lt;/b&gt;&lt;font color=&quot;#000000&quot;&gt;= prefix;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; this.&lt;/font&gt;&lt;b&gt;beanName &lt;/b&gt;&lt;font color=&quot;#000000&quot;&gt;= beanName;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#000000&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;align=left;" vertex="1" parent="1">
          <mxGeometry x="700" y="1025" width="460" height="130" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-125" target="MlA-OAKGZCwKXPXbJSl6-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-125" value="&lt;font color=&quot;#000000&quot;&gt;this.finishBeanFactoryInitialization(beanFactory);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-600" y="1364" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-131" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-128" target="MlA-OAKGZCwKXPXbJSl6-130">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-128" value="&lt;font color=&quot;#000000&quot;&gt;beanFactory.preInstantiateSingletons();&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="-240" y="1364" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-130" target="MlA-OAKGZCwKXPXbJSl6-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-130" value="&lt;font color=&quot;#000000&quot;&gt;this.getBean(beanName);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="70" y="1364" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#FF0080;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-132" target="MlA-OAKGZCwKXPXbJSl6-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-132" value="&lt;font color=&quot;#000000&quot;&gt;DubboConfigBindingBeanPostProcessor.java&lt;br&gt;调用postProcessBeforeInitialization()方法&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="340" y="1359" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-137" value="true" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-134" target="MlA-OAKGZCwKXPXbJSl6-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-139" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-134" target="MlA-OAKGZCwKXPXbJSl6-138">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-134" value="&lt;font color=&quot;#000000&quot;&gt;判断名字和类型是否符合&lt;br&gt;&amp;nbsp;if (this.beanName.equals(beanName) &amp;amp;&amp;amp; bean instanceof AbstractConfig)&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="759" y="1342" width="370" height="84" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontColor=#000000;strokeColor=#000000;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-136" target="MlA-OAKGZCwKXPXbJSl6-140">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-136" target="MlA-OAKGZCwKXPXbJSl6-141">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;strokeColor=#000000;" edge="1" parent="1" source="MlA-OAKGZCwKXPXbJSl6-136" target="MlA-OAKGZCwKXPXbJSl6-142">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-136" value="&lt;font color=&quot;#000000&quot;&gt;执行逻辑&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="1220" y="1363.5" width="100" height="41" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-138" value="&lt;font color=&quot;#000000&quot;&gt;不做处理，直接返回&lt;br&gt;return bean;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="868.5" y="1460" width="151" height="40" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-140" value="&lt;font color=&quot;#000000&quot;&gt;AbstractConfig dubboConfig = (AbstractConfig) bean;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="1430" y="1300" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-141" value="&lt;font color=&quot;#000000&quot;&gt;从properties文件中获取值，并设置到dubboConfig对象中bind(prefix, dubboConfig);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="1430" y="1410" width="310" height="50" as="geometry" />
        </mxCell>
        <mxCell id="MlA-OAKGZCwKXPXbJSl6-142" value="&lt;font color=&quot;#000000&quot;&gt;customize(beanName, dubboConfig);&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontColor=#FF0080;" vertex="1" parent="1">
          <mxGeometry x="1430" y="1520" width="310" height="50" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
